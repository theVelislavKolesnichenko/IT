# Работа със сървъра Tomcat 

Сървърът Tomcat представлява безплатен Web-контейнер, който може да изпълнява Web-приложения сред който са Java сървлети, JSP страници. 
Tomcat е Web-application сървър, написан на Java, който при клиентска HTTP заявка освен статични файлове, може да връща и динамични 
документи, създадени в резултат от изпълнението на сървлет или JSP.

# Инсталиране на Tomcat Сървърът 

Tomcat е достъпен за свободно изтегляне от адрес: 

http://jakarta.apache.org/tomcat/

Последната версия на сървъра може да се изтегли като .zip файл (пример: apache-tomcat-9.0.27-windows-x64.zip), който трябва да се
разархивираме в директория предназначена за мрежови достъп. Препоръчва се в името на директорията да не се съдържат интервали, 
защото интервалите служат за разделители в Java и могат да създатат проблеми. 

Преди да използваме Tomcat Сървърът е необходимо да инсталираме JDK на нашия компютър. Можем да си го издърпаме от:

http://java.sun.com/j2se/ 

#Стартиране на Tomcat 

За стартиране на сървъра Tomcat е необходимо първо в променливите на средата (Environment variables) да добавим променливата JAVA_HOME 
със стойност директорията където е инсталиран JDK. Това може да стане например от конзолата с командата 

``` PowerShell
set JAVA_HOME=C:\j2sdk1.4.2_01
```

или от настройките на операционната система. 

За да стартираме самия сървър Tomcat, трябва да изпълним скрипта за стартиране, който се намира в поддиректорията bin на основната 
директория на Tomcat сървъра. Например ако сме инсталирали Tomcat в директория F:\DevTools\apache-tomcat-9.0.27, нашата bin директория 
ще бъде 

``` PowerShell
F:\DevTools\apache-tomcat-9.0.27\bin. 
```

В тази поддиректория bin има файл за управлвние на сървиса service.bat, с който можем да стартираме сървъра. Стартирането на сървъра става с .bat файла service. 

### PowerShell команди за стартиране на Tomcat service под Windows.

``` PowerShell
./service.bat install pit-it <# инсталира Tomcat service в Windows services. pti-it - името на услугата в Windows #>

Get-Service <# извлича всички services в Windows #>

Get-Service -Name "pti-it" <# извлича service в Windows  по име #>

Start-Service "pti-it" <# стартира service в Windows по име #>

./service.bat remove <# изтрива Tomcat service от Windows Services. pti-it - името на услугата в Windows #>

```

Когато се стартира сървърът слуша на порт 8080 за идващи HTTP заявки, а не на стандартния за протокола HTTP порт 80. Ако няма съобщения за грешки, то сървърът е стартирал успешно. 

За да проверим дали всичко работи нормално, можем да стартираме нашия Web-браузър и да въведем адреса 

http://localhost:8080/

Ако всичко е наред, ще се появи заглавната страница на Tomcat. 

# Web проект

Добавяне на java web зависимост 

```
  <dependencies>
    <dependency>
	    <groupId>javax.servlet</groupId>
	    <artifactId>javax.servlet-api</artifactId>
	    <version>4.0.1</version>
	    <scope>provided</scope>
    </dependency>
  </dependencies>
```

# Стартиране на проект

Избирате проекта, 

# Задача

1. Стартираите услугата Tomcat от директория "..." с помоща на PowerShell. Проверете успешно ли е преминало стартирането, като отворите началната страница на Tomcat он вашия локален компютър.

2. Създайте нов проект в Webapps със структора:

```
vCard
|-- index.html
`-- src
    |-- js
    |   |-- main.js
    |-- css
    |   |-- main.css
```

Направете заглавна страница на вашето CV.

3. Създайте Maven Web Project. Създайте същите структора като на vCard. 
- Публикувайте проекта.
- Променете цвета на фона. Презаредете страницата в браузъра. Какво се вихжа ? 
- Публикувайте проекта. Презаредете страницата в браузъра. Има ли разлика ? 

4. Позволете достъпа по HTTP до Tomcat сървъра на вашия компютър.

5. Забранете достъпа по HTTP до Tomcat сървъра на вашия компютър.

6. Спрете услугата Tomcat. Проверете, че е спряна успешно.
